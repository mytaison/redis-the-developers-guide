{"id":"f70321","fileName":"my-downright-form-notebook.json","name":"LUA Script","cells":[{"id":"4f78a1","type":"markdown","content":"**Notes**\n\n* Lua Script can be uploaded to Redis\n* Script must have a return statement\n* Redis will provide an ID to execute the script after the upload\n* Arguments must be provided in string\n\n**When to use**\n* Limiting the amount of data exchange with server and redis\n* Solving some concurrency issues\n* Minimizing the number of round trips between server and redis\n\n**Downside**\n* Keys must be known ahead of time\n* Tough to test scripts\n* Loss of language features like type checking\n* Another language to deal with it"},{"id":"7b359e","type":"redis","content":"SCRIPT LOAD 'return 1+1' \nSCRIPT LOAD 'return 1+ ARGV[1]'\nSCRIPT LOAD 'return 1+ tonumber(ARGV[1])'\n"},{"id":"1712022922124","type":"redis","content":"EVALSHA a27e7e8a43702b7046d4f6a7ccf5b60cef6b9bd9 0 \nEVALSHA 8f34fcccc2e2b1bb40fe211b3e19f1cd17b327a8 0  '100'\nEVALSHA 479d345d822c5c5bd71402bf6ed0cbf3bc5b2c62 1  '100'"},{"id":"1712024732664","type":"redis","content":"SET color Red\nSCRIPT LOAD 'return redis.call(\"GET\", \"color\")'\nSCRIPT LOAD 'return redis.call(\"GET\", KEYS[1])'\n"},{"id":"1712025449892","type":"redis","content":"EVALSHA 5c319cc258f79a4a2387edac10122cb4ee3770ea 0 \nEVALSHA d1ad8397c172dc0a63e271f0c4c4250ca8d5d1fb 1 color \n// DEL color"}],"createdAt":"2024-04-02T01:52:56.667Z"}